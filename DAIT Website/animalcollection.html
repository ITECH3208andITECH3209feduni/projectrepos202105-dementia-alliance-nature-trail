<!DOCTYPE html>
<html>

<head>
    <title>Animal Collection | Bigger Hearts Adventure Trail</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0, user-scalable=1" />
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <link rel="icon" href="assets/favicon.svg" sizes="any" type="image/svg+xml">
    <script type="text/javascript" src="scripts/jsqrcode/grid.js"></script>
    <script type="text/javascript" src="scripts/jsqrcode/version.js"></script>
    <script type="text/javascript" src="scripts/jsqrcode/detector.js"></script>
    <script type="text/javascript" src="scripts/jsqrcode/formatinf.js"></script>
    <script type="text/javascript" src="scripts/jsqrcode/errorlevel.js"></script>
    <script type="text/javascript" src="scripts/jsqrcode/bitmat.js"></script>
    <script type="text/javascript" src="scripts/jsqrcode/datablock.js"></script>
    <script type="text/javascript" src="scripts/jsqrcode/bmparser.js"></script>
    <script type="text/javascript" src="scripts/jsqrcode/datamask.js"></script>
    <script type="text/javascript" src="scripts/jsqrcode/rsdecoder.js"></script>
    <script type="text/javascript" src="scripts/jsqrcode/gf256poly.js"></script>
    <script type="text/javascript" src="scripts/jsqrcode/gf256.js"></script>
    <script type="text/javascript" src="scripts/jsqrcode/decoder.js"></script>
    <script type="text/javascript" src="scripts/jsqrcode/qrcode.js"></script>
    <script type="text/javascript" src="scripts/jsqrcode/findpat.js"></script>
    <script type="text/javascript" src="scripts/jsqrcode/alignpat.js"></script>
    <script type="text/javascript" src="scripts/jsqrcode/databr.js"></script>
    <script type="text/javascript"src="scripts/animaldata.js"></script>
</head>

<body>
    <header>
        <div class="flex_header_container">
            <div class="header_inner_container_outer">
                <div class="menu_icon_container" onclick="menuOnclickEventHandler(this)">
                    <img id="burgerMenu" src="assets/burgerMenu.svg">
                </div>
                <nav class="nav" id="nav">
                    <div class="nav_links">
                        <img id="burgerCross" src="assets/burgerCross.svg" onclick="menuOnclickEventHandler(this)">
                        <a href="howtoplay.html" class="nav_link">How To Play</a>
                        <a href="trailmap.html" class="nav_link">Trail Map</a>
                        <a href="#" class="nav_link nav_link_active">Animal Collection</a>
                        <a href="#" class="nav_link">Bigger Hearts Home Page</a>
                        <a href="#" class="nav_link">Contact Us</a>
                        <img class="biggerHearts_icon" src="assets/trailmap/bigger_hearts_icon_white.svg" alt="bigger hearts icon" />
                    </div>
                    <div class="nav_overlay" onclick="menuOnclickEventHandler(this)">
                    </div>
                </nav>
            </div>
            <div class="header_inner_container">
                <img class="storybook_logo" src="assets/storybooklogo.svg" alt="storybook adventure trail logo" />
            </div>
            <div class="header_inner_container_outer">
                <img id="bigger_hearts_logo" src="assets/biggerheartslogo.svg" alt="bigger hearts logo" />
            </div>
        </div>
    </header>

    <main>
        <div class="flex_top_main_container">
            <img id="map" src="assets/map.svg">
            <div class="flex_toggle_switch_container">
                <img id="toggle_locked" class="toggle_switch_icon_small" src="assets/locked.svg">
                <label class="switch">
                    <input type="checkbox" id="lock_toggle" onclick="displayLockStatusConfirmationPopup()">
                    <span class="slider round"></span>
                </label>
                <img id="toggle_unlocked" class="toggle_switch_icon_small" src="assets/unlocked.svg">
            </div>
        </div>
        <section class="animal_collection_wrapper">
            <article class="animal_wrapper" id="nannakookaburra" onclick="displayPopup(this.id)">
                <img class="lock_status" src="assets/unlocked.svg">
                <img class="animal_image" src="assets/nannakookaburra.png">
            </article>
            <article class="animal_wrapper" id="motherkoalawithjoey" onclick="displayPopup(this.id)">
                <img class="lock_status" src="assets/locked.svg">
                <img class="animal_image" src="assets/motherkoalawithjoey.png">
            </article>
            <article class="animal_wrapper" id="auntiemagpie" onclick="displayPopup(this.id)">
                <img class="lock_status" src="assets/locked.svg">
                <img class="animal_image" src="assets/auntiemagpie.png">
            </article>
            <article class="animal_wrapper" id="unclemagpie" onclick="displayPopup(this.id)">
                <img class="lock_status" src="assets/locked.svg">
                <img class="animal_image" src="assets/unclemagpie.png">
            </article>
            <article class="animal_wrapper" id="granddaughterkookaburra" onclick="displayPopup(this.id)">
                <img class="lock_status" src="assets/locked.svg">
                <img class="animal_image" src="assets/granddaughterkookaburra.png">
            </article>
            <article class="animal_wrapper" id="brotherwedgetailedeagle" onclick="displayPopup(this.id)">
                <img class="lock_status" src="assets/locked.svg">
                <img class="animal_image" src="assets/brotherwedgetailedeagle.png">
            </article>
            <article class="animal_wrapper" id="sisterwedgetailedeagle" onclick="displayPopup(this.id)">
                <img class="lock_status" src="assets/locked.svg">
                <img class="animal_image" src="assets/sisterwedgetailedeagle.png">
            </article>
            <article class="animal_wrapper" id="cousinbrushtailpossum" onclick="displayPopup(this.id)">
                <img class="lock_status" src="assets/locked.svg">
                <img class="animal_image" src="assets/cousinbrushtailpossum.png">
            </article>
            <article class="animal_wrapper" id="cousinringtailpossum" onclick="displayPopup(this.id)">
                <img class="lock_status" src="assets/locked.svg">
                <img class="animal_image" src="assets/cousinringtailpossum.png">
            </article>
            <article class="animal_wrapper" id="grandadwombat" onclick="displayPopup(this.id)">
                <img class="lock_status" src="assets/locked.svg">
                <img class="animal_image" src="assets/grandadwombat.png">
            </article>
            <article class="animal_wrapper" id="storyending" onclick="displayStoryEndingPopup()">
                <img class="lock_status" src="assets/locked.svg">
                <img class="animal_image" src="assets/find_us_all.svg" style="border:black; border-width:1px; border-style:solid;">
            </article>
        </section>
        <canvas hidden="" id="qr-canvas"></canvas>

        <!-- The Modal -->
        <div id="modal" class="modal">
            <div class="modal_content" id="modal_unlocked_content">
                <input class="close" type="image" value="unlocked" src="assets/close.svg" onclick="closeModal(this.value)">
                <h2 class="modal_h2_heading">You found me!</h2>
                <div class="modal_animal_bio">

                    <div class="modal_animal_image_wrapper">
                        <img class="modal_animal_image" id="m_animal_img" src="assets/nannakookaburra.png">
                    </div>

                    <div class="modal_animal_bio_wrapper" id="modal_animal_bio">
                        <li class="bold_bio_info">Animal: <span class="bio_info">Kookaburra</span></li>
                        <li class="bold_bio_info">Wadawurrung name: <span class="bio_info">Kuwarrk</span></li>                        
                        <li class="bold_bio_info">Scientific name: <span class="bio_info">Dacelo novaeguineae</span></li>                       
                        <li class="bold_bio_info">Size Range: <span class="bio_info">40 - 45 cm</span></li>               
                        <li class="bold_bio_info">Weight: <span class="bio_info">0.31 - 0.38 kg</span></li>
                    </div>
                </div>
                <div class="modal_sound_outer_wrapper">
                    <div class="modal_sound_inner_wrapper">
                        <div class="modal_sound_icons" onClick="toggleAnimalSound()">
                            <audio id="audio_animal">
                                <source src="assets/audio/kookaburra.mp3" type="audio/mpeg">
                            </audio>
                            <img src="assets/hearsound.svg"/>
                        </div>
                        <div class="modal_sound_icon_text_wrapper">
                            <p>Hear my <br>sound</p>
                        </div>
                    </div>
                    <div class="modal_sound_inner_wrapper">
                        <div class="modal_sound_icons" onClick="toggleStorySound()" >
                            <audio id="audio_animal_story">
                                <source src="assets/audio/storynannakookaburra.mp3" type="audio/mpeg">
                            </audio>
                            <img src="assets/hearstory.svg"/>
                        </div>
                        <div class="modal_sound_icon_text_wrapper">
                            <p>Hear my <br>story</p>
                        </div>
                    </div>
                </div>
                <div class="modal_scrollable_content">
                    <div class='scroll_blur_top'></div>

                    <div class="modal_story" id="modal_story"> <!--TODO don't need class if using id-->
                        <h3>My Story</h3>
                        <p class="p_top">
                            Nanna Kookaburra was perched on a signpost waiting patiently for her friend to take her
                            home.
                            Nanna Kookaburra never got lost. She always knew where she was. But sometimes she needed a
                            little help remembering where she was going.
                        </p>
                        <p>
                            “Hello possum!” said Nanna Kookaburra, who called everyone possum, even if they weren’t.
                            “I’m
                            looking for my home, but I can’t quite remember where it is! Be a dear and help me find it
                            will
                            you.
                        </p>
                        <p>
                            So, she perched on her friend’s shoulder, and off they went to ask all the animals they
                            could
                            find, just where Nanna Kookaburra might be going.
                        </p>
                    </div>
                    <div class="modal_facts" id="modal_facts"> <!--TODO don't need class if using id-->
                        <h3>Facts about me</h3>
                        <p class="p_top">
                            Laughing Kookaburras pair for life. The dad and mum take turns keeping eggs warm and
                            sometimes
                            the older brothers and sisters of a kookaburra chick will help with babysitting!
                        </p>
                    </div>
                    <div class='scroll_blur'></div>
                </div>
            </div>

            <!--Locked Modal-->
            <div class="modal_content" id="modal_locked_content">
                <input class="close" type="image" value="locked" src="assets/close.svg" onclick="closeModal(this.value)">
                <h2 class="modal_h2_heading">Can't find me? Here's a clue!</h2>                  
                <div class="modal_scrollable_content">
                    <div class='scroll_blur_top hiden_scroll_blur'></div>
                    <div class="modal_hint_wrapper">
                        <img class="modal_hint_img modal_hint_img_top" id="m_hint_img" src="assets/hints/photohint.png">
                        <img class="modal_hint_img" id="m_map_hint_img" src="assets/hints/maphint.png">
                    </div>
                    <div class='scroll_blur hiden_scroll_blur'></div>
                </div>
            </div>

            <!--Ending Story Modal-->
            <div class="modal_content" id="modal_ending_story_content">
                <input class="close" type="image" value="ending story" src="assets/close.svg" onclick="closeModal(this.value)">
                <h2 class="modal_h2_heading">Congratulations you found us all!</h2>
                 <div class="modal_ending_story_wrapper">
                    <img class="modal_ending_story_img modal_ending_story_img_top" src="assets/find_us_all_the_end.svg">
                </div> 
                <div class="modal_sound_ending_story_outer_wrapper">
                    <div class="modal_sound_ending_story_inner_wrapper">
                        <div class="modal_sound_icons" onClick="toggleEndingStorySound()" >
                            <audio id="audio_ending_story">
                                <source src="assets/audio/storyend.mp3" type="audio/mpeg">
                            </audio>
                            <img src="assets/hearstory.svg"/>
                        </div>
                        <div class="modal_sound_icon_text_wrapper">
                            <p>Hear the <br>story</p>
                        </div>
                    </div>
                </div>                  
                <div class="modal_scrollable_content">
                    <div class='scroll_blur_top'></div>
                    <div class="modal_story">
                        <h3>Story Ending</h3>
                        <p class="p_top">
                            When Nanna Kookaburra had visited all the animals
                             along the trail she began to remember where her home was.
                        </p>
                        <p>
                            She held the leaf from Auntie Magpie that made her feel safe, 
                            and she touched the soft fur from Granddad Wombat that would make her nest quiet and cozy.
                        </p>
                        <p>
                            She waved the feather from Sister Wedge-Tailed Eagle and felt the breeze blow on her beak, 
                            just like when she soured through the sky, open and free.
                        </p>
                        <p>
                            She played with the stringybark from Cousin Brushtail Possum and gobbled up the juicy worm 
                            from Uncle Magpie, which made her feel full and content.
                        </p>
                        <p>
                            She waved the feather from Sister Wedge-Tailed Eagle and felt the breeze blow on her beak, 
                            just like when she soured through the sky, open and free.
                        </p>
                        <p>
                            She remembered Joey Koala’s warm hug and Cousin Ringtail Possum’s funny face. 
                            She thought of all these things that made a home and she laughed her kookaburra laugh.
                        </p>
                        <p>
                            “Do you remember where home is now?” asked Granddaughter Kookaburra. 
                            “Of course I do!” said Nanna Kookaburra. “It’s right here on the trail! With you and all my friends.” 
                        </p>
                        <p>
                            And so it was.
                        </p>
                    </div>
                    <div class='scroll_blur'></div>
                </div>
            </div>

            <!--Locked Ending Story Modal-->
            <div class="modal_content" id="modal_locked_ending_story_content">
                <input class="close" type="image" value="locked ending story" src="assets/close.svg" onclick="closeModal(this.value)">
                <h2 class="modal_h2_heading">Ending Story Locked</h2>                  
                <div class="modal_scrollable_content">
                    <div class="modal_ending_story_wrapper">
                    <img class="modal_ending_story_img modal_ending_story_img_top" src="assets/find_us_all.svg">
                    </div>
                    <div class="modal_first_scan_wrapper">
                        <p>
                            You will need to find and unlock all the animals in the trail to view the conclusion to the story.
                        </p>
                    </div>
                </div>
            </div>

            <!--External First Time Vistor Modal-->
            <div class="modal_content" id="modal_external_first_scan_content">
                <input class="close" type="image" value="external first time" src="assets/close.svg" onclick="closeModal(this.value)">
                <h2 class="modal_h2_heading">Welcome to the Adventure Trail</h2>                  
                <div class="modal_scrollable_content">
                    <div class="modal_first_scan_wrapper">
                        <p>It appears to be your first time finding an animal in the Adventure Trail. 
                            We recommend viewing the starter story <i>(Nanna Kookaburra)</i> or
                            learning how to play first. 
                        </p>
                        <form class="user_input_form">
                            <input class="user_input_form_button" type="button" value="Starter Story" onclick="handleUserInput(this.value)">
                            <input class="user_input_form_button" type="button" value="How To Play" onclick="handleUserInput(this.value)">
                        </form>
                    </div>
                </div>
            </div>

            <!--Lock Status Confirmation Modal-->
            <div class="modal_content" id="modal_external_lock_status_confirmation_content">
                <input class="close" type="image" value="lock status" src="assets/close.svg" onclick="closeModal(this.value)">
                <h2 class="modal_h2_heading">Lock Status Confirmation</h2>                  
                <div class="modal_scrollable_content">
                    <div class="modal_lock_status_confirmation_wrapper">
                        <p>Are you sure you would like to change the lock status? <i class="small_font">(action overwrites all progression)</i></p>
                        <form class="user_input_form">
                            <input class="user_input_form_button" type="button" value="Confirm" onclick="handleLockToggle(this.value)">
                            <input class="user_input_form_button" type="button" value="Cancel" onclick="handleLockToggle(this.value)">
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="flex_footer_container">
            <img class="footer_icon" src="assets/spot.svg">
            <img class="footer_icon arrow" src="assets/arrow.svg">

            <div class="camera_button_wrapper">
                <a id="btn-scan-qr">
                    <img class="camera_button" src="assets/camera.svg">
                </a>
            </div>
            <img class="footer_icon arrow" src="assets/arrow.svg">
            <img class="footer_icon" src="assets/mobileqrscan.svg">
        </div>
    </footer>

    <script type="text/javascript" type="module" src="scripts/animal_updater.js"></script>
    <!--Bottom script order: 1-->
    <script type="text/javascript" src="scripts/qr_app.js"></script>
    <!--Bottom script order: 2-->
    <script type="text/javascript" src="scripts/popups.js"></script>
    <!--Bottom script order: 3-->

</body>

</html>